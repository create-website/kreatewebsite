<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Agentic AI in E-commerce Analysis</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <!-- Chosen Palette: Calm Harmony -->
    <!-- Application Structure Plan: The application is designed as a multi-tabbed interactive dashboard. This structure was chosen to break down the complex topic of agentic AI into digestible, user-centric themes: Overview (high-level KPIs), Customer Journey (traffic and conversion analysis), Product Performance (sales data), AI in Action (interactive demonstrations), and Impact Summary (ROI and before/after metrics). This non-linear, thematic approach allows users to explore areas of interest at their own pace, making the information more accessible and engaging than a linear report. The user flow encourages discovery, moving from a general summary to specific deep dives and tangible examples of AI capabilities. -->
    <!-- Visualization & Content Choices: 
        - KPIs (Overview): Goal: Inform. Method: Dynamic stat cards (HTML/Tailwind). Interaction: Hover for details. Justification: Provides a quick, scannable snapshot of business health.
        - Revenue Trend (Overview): Goal: Change. Method: Line Chart. Interaction: Filter by date range. Justification: Visualizes performance over time, a core e-commerce metric. Library: Chart.js/Canvas.
        - Customer Funnel (Customer Journey): Goal: Organize. Method: Funnel Diagram (HTML/Tailwind). Interaction: Hover to see drop-off rates. Justification: Clearly visualizes the path to purchase and identifies friction points.
        - Traffic Sources (Customer Journey): Goal: Compare. Method: Donut Chart. Interaction: Tooltips. Justification: Shows the origins of site visitors, key for marketing analysis. Library: Chart.js/Canvas.
        - Product Sales (Product Performance): Goal: Compare. Method: Horizontal Bar Chart. Interaction: Filter by category. Justification: Makes it easy to identify top-performing products. Library: Chart.js/Canvas.
        - Anomaly Detection (AI in Action): Goal: Organize. Method: Timeline + Dynamic Text. Interaction: Button to trigger simulation. Justification: Provides a tangible, interactive demonstration of a core agentic AI feature.
        - Performance uplift (Impact Summary): Goal: Compare. Method: Grouped Bar Chart. Interaction: Tooltips. Justification: Directly visualizes the value-add and ROI of implementing agentic AI. Library: Chart.js/Canvas. -->
    <!-- CONFIRMATION: NO SVG graphics used. NO Mermaid JS used. -->
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #F5F5F4; /* stone-100 */
        }
        .chart-container {
            position: relative;
            width: 100%;
            max-width: 800px;
            margin-left: auto;
            margin-right: auto;
            height: 350px;
            max-height: 50vh;
        }
        @media (max-width: 768px) {
            .chart-container {
                height: 300px;
            }
        }
        .nav-btn {
            transition: all 0.3s ease;
        }
        .nav-btn.active {
            background-color: #0F766E; /* teal-700 */
            color: white;
            box-shadow: 0 4px 6px -1px rgb(0 0 0 / 0.1), 0 2px 4px -2px rgb(0 0 0 / 0.1);
        }
        .page-section {
            display: none;
        }
        .page-section.active {
            display: block;
        }
        .stat-card {
            transition: all 0.3s ease;
        }
        .stat-card:hover {
            transform: translateY(-4px);
            box-shadow: 0 10px 15px -3px rgb(0 0 0 / 0.1), 0 4px 6px -4px rgb(0 0 0 / 0.1);
        }
    </style>
</head>
<body class="text-stone-800">

    <div class="min-h-screen container mx-auto p-4 sm:p-6 lg:p-8">
        <header class="text-center mb-8">
            <h1 class="text-4xl font-bold text-teal-800">Agentic AI in E-commerce Analysis</h1>
            <p class="mt-2 text-lg text-stone-600 max-w-3xl mx-auto">An interactive report on how autonomous AI agents transform data into actionable growth strategies for online businesses.</p>
        </header>

        <nav id="nav-container" class="flex flex-wrap justify-center gap-2 sm:gap-4 mb-8">
            <button data-target="overview" class="nav-btn active py-2 px-4 rounded-full bg-white shadow-sm font-semibold text-stone-700 hover:bg-teal-50">Overview</button>
            <button data-target="journey" class="nav-btn py-2 px-4 rounded-full bg-white shadow-sm font-semibold text-stone-700 hover:bg-teal-50">Customer Journey</button>
            <button data-target="performance" class="nav-btn py-2 px-4 rounded-full bg-white shadow-sm font-semibold text-stone-700 hover:bg-teal-50">Product Performance</button>
            <button data-target="ai-action" class="nav-btn py-2 px-4 rounded-full bg-white shadow-sm font-semibold text-stone-700 hover:bg-teal-50">AI in Action</button>
            <button data-target="impact" class="nav-btn py-2 px-4 rounded-full bg-white shadow-sm font-semibold text-stone-700 hover:bg-teal-50">Impact Summary</button>
        </nav>

        <main id="content-container">
            <!-- Overview Section -->
            <section id="overview" class="page-section active animate-fade-in">
                <div class="text-center mb-8 p-6 bg-white/60 rounded-xl shadow-inner-lg border border-stone-200">
                    <h2 class="text-2xl font-bold text-teal-700 mb-2">Dashboard Overview</h2>
                    <p class="text-stone-600 max-w-4xl mx-auto">This section provides a high-level snapshot of key business metrics. It highlights the most critical performance indicators that agentic AI continuously monitors to gauge the overall health of the e-commerce operation. Interact with the charts and cards to see the latest data and AI-generated insights.</p>
                </div>

                <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8">
                    <div class="stat-card bg-white p-6 rounded-xl shadow-md border border-stone-200">
                        <h3 class="text-sm font-semibold text-stone-500">Total Revenue</h3>
                        <p class="text-3xl font-bold text-teal-600 mt-1">$1,254,830</p>
                        <p class="text-sm text-green-600 mt-1">+5.2% vs last period</p>
                    </div>
                    <div class="stat-card bg-white p-6 rounded-xl shadow-md border border-stone-200">
                        <h3 class="text-sm font-semibold text-stone-500">Conversion Rate</h3>
                        <p class="text-3xl font-bold text-amber-600 mt-1">2.87%</p>
                        <p class="text-sm text-green-600 mt-1">+0.12% vs last period</p>
                    </div>
                    <div class="stat-card bg-white p-6 rounded-xl shadow-md border border-stone-200">
                        <h3 class="text-sm font-semibold text-stone-500">Avg. Order Value</h3>
                        <p class="text-3xl font-bold text-sky-600 mt-1">$124.50</p>
                        <p class="text-sm text-red-600 mt-1">-1.5% vs last period</p>
                    </div>
                    <div class="stat-card bg-white p-6 rounded-xl shadow-md border border-stone-200">
                        <h3 class="text-sm font-semibold text-stone-500">Active AI Insights</h3>
                        <p class="text-3xl font-bold text-violet-600 mt-1">4</p>
                        <p class="text-sm text-stone-500 mt-1">Requiring attention</p>
                    </div>
                </div>

                <div class="grid grid-cols-1 lg:grid-cols-3 gap-8">
                    <div class="lg:col-span-2 bg-white p-6 rounded-xl shadow-md border border-stone-200">
                        <div class="flex flex-wrap justify-between items-center mb-4">
                            <h3 class="text-lg font-bold text-stone-700">Revenue Trend</h3>
                            <div id="revenue-filter" class="flex gap-2">
                                <button data-days="7" class="text-xs px-3 py-1 rounded-full bg-stone-200 hover:bg-stone-300">7D</button>
                                <button data-days="30" class="text-xs px-3 py-1 rounded-full bg-teal-600 text-white">30D</button>
                                <button data-days="90" class="text-xs px-3 py-1 rounded-full bg-stone-200 hover:bg-stone-300">90D</button>
                            </div>
                        </div>
                        <div class="chart-container">
                            <canvas id="revenueChart"></canvas>
                        </div>
                    </div>
                    <div class="bg-white p-6 rounded-xl shadow-md border border-stone-200">
                        <h3 class="text-lg font-bold text-stone-700 mb-4">Key AI-Generated Insights</h3>
                        <ul class="space-y-4">
                            <li class="p-4 bg-amber-50 rounded-lg border border-amber-200">
                                <p class="font-semibold text-amber-800">‚ö†Ô∏è Performance Dip</p>
                                <p class="text-sm text-stone-600">"Conversion rate from 'Social Media' traffic dropped by 35% in the last 48 hours. This correlates with the new 'Summer Sale' ad campaign. Recommend pausing campaign for review."</p>
                            </li>
                            <li class="p-4 bg-sky-50 rounded-lg border border-sky-200">
                                <p class="font-semibold text-sky-800">üìà Opportunity Found</p>
                                <p class="text-sm text-stone-600">"The 'Wireless Earbuds' are viewed 3x more often by customers who also bought the 'Smartwatch X'. Recommend creating a product bundle to increase AOV."</p>
                            </li>
                            <li class="p-4 bg-green-50 rounded-lg border border-green-200">
                                <p class="font-semibold text-green-800">‚úÖ Positive Trend</p>
                                <p class="text-sm text-stone-600">"Customer Lifetime Value for users acquired via 'Organic Search' is 25% higher than average. Recommend reallocating SEO budget to top-performing keywords."</p>
                            </li>
                        </ul>
                    </div>
                </div>
            </section>
            
            <!-- Customer Journey Section -->
            <section id="journey" class="page-section">
                <div class="text-center mb-8 p-6 bg-white/60 rounded-xl shadow-inner-lg border border-stone-200">
                    <h2 class="text-2xl font-bold text-teal-700 mb-2">The Customer Journey</h2>
                    <p class="text-stone-600 max-w-4xl mx-auto">Understanding how users find your site and navigate towards a purchase is crucial. This section visualizes the conversion funnel and breaks down traffic sources, revealing opportunities for optimization that an agentic AI can identify and even act upon automatically.</p>
                </div>
                <div class="grid grid-cols-1 lg:grid-cols-2 gap-8">
                    <div class="bg-white p-6 rounded-xl shadow-md border border-stone-200">
                         <h3 class="text-lg font-bold text-stone-700 mb-4">Sales Conversion Funnel</h3>
                         <div class="space-y-2">
                             <div class="flex items-center bg-teal-50 p-4 rounded-lg">
                                 <div class="w-12 h-12 rounded-full bg-teal-500 text-white flex items-center justify-center font-bold text-xl mr-4">1</div>
                                 <div class="flex-1">
                                     <p class="font-semibold">Site Visit</p>
                                     <p class="text-sm text-stone-600">245,000 Users</p>
                                 </div>
                                 <div class="text-right">
                                     <p class="font-bold text-lg text-teal-700">100%</p>
                                 </div>
                             </div>
                             <div class="pl-8 text-center text-stone-400">‚ñº <span class="text-sm">75.5% Drop-off</span></div>
                             <div class="flex items-center bg-sky-50 p-4 rounded-lg">
                                 <div class="w-12 h-12 rounded-full bg-sky-500 text-white flex items-center justify-center font-bold text-xl mr-4">2</div>
                                 <div class="flex-1">
                                     <p class="font-semibold">Viewed Product</p>
                                     <p class="text-sm text-stone-600">60,025 Users</p>
                                 </div>
                                 <div class="text-right">
                                     <p class="font-bold text-lg text-sky-700">24.5%</p>
                                 </div>
                             </div>
                             <div class="pl-8 text-center text-stone-400">‚ñº <span class="text-sm">58.3% Drop-off</span></div>
                             <div class="flex items-center bg-amber-50 p-4 rounded-lg">
                                 <div class="w-12 h-12 rounded-full bg-amber-500 text-white flex items-center justify-center font-bold text-xl mr-4">3</div>
                                 <div class="flex-1">
                                     <p class="font-semibold">Added to Cart</p>
                                     <p class="text-sm text-stone-600">25,030 Users</p>
                                 </div>
                                 <div class="text-right">
                                     <p class="font-bold text-lg text-amber-700">10.2%</p>
                                 </div>
                             </div>
                             <div class="pl-8 text-center text-stone-400">‚ñº <span class="text-sm">71.8% Drop-off (Cart Abandonment)</span></div>
                              <div class="flex items-center bg-green-50 p-4 rounded-lg">
                                 <div class="w-12 h-12 rounded-full bg-green-500 text-white flex items-center justify-center font-bold text-xl mr-4">4</div>
                                 <div class="flex-1">
                                     <p class="font-semibold">Purchased</p>
                                     <p class="text-sm text-stone-600">7,033 Users</p>
                                 </div>
                                 <div class="text-right">
                                     <p class="font-bold text-lg text-green-700">2.87%</p>
                                 </div>
                             </div>
                         </div>
                    </div>
                    <div class="bg-white p-6 rounded-xl shadow-md border border-stone-200">
                        <h3 class="text-lg font-bold text-stone-700 mb-4">Traffic Sources</h3>
                        <div class="chart-container h-[400px] max-h-[60vh]">
                            <canvas id="trafficSourceChart"></canvas>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Product Performance Section -->
            <section id="performance" class="page-section">
                <div class="text-center mb-8 p-6 bg-white/60 rounded-xl shadow-inner-lg border border-stone-200">
                    <h2 class="text-2xl font-bold text-teal-700 mb-2">Product Performance</h2>
                    <p class="text-stone-600 max-w-4xl mx-auto">Not all products are created equal. This section drills down into sales data, revealing top sellers, category performance, and inventory insights. Agentic AI uses this data to automate inventory management, dynamic pricing, and personalized product recommendations.</p>
                </div>
                 <div class="bg-white p-6 rounded-xl shadow-md border border-stone-200">
                    <div class="flex flex-wrap justify-between items-center mb-4">
                        <h3 class="text-lg font-bold text-stone-700">Top Selling Products by Revenue</h3>
                        <div id="product-filter" class="flex gap-2">
                            <button data-category="All" class="text-xs px-3 py-1 rounded-full bg-teal-600 text-white">All</button>
                            <button data-category="Electronics" class="text-xs px-3 py-1 rounded-full bg-stone-200 hover:bg-stone-300">Electronics</button>
                            <button data-category="Apparel" class="text-xs px-3 py-1 rounded-full bg-stone-200 hover:bg-stone-300">Apparel</button>
                            <button data-category="Home Goods" class="text-xs px-3 py-1 rounded-full bg-stone-200 hover:bg-stone-300">Home Goods</button>
                        </div>
                    </div>
                    <div class="chart-container h-[450px] max-h-[65vh]">
                        <canvas id="productSalesChart"></canvas>
                    </div>
                </div>
            </section>

            <!-- AI in Action Section -->
            <section id="ai-action" class="page-section">
                <div class="text-center mb-8 p-6 bg-white/60 rounded-xl shadow-inner-lg border border-stone-200">
                    <h2 class="text-2xl font-bold text-teal-700 mb-2">AI in Action: Automated Analysis</h2>
                    <p class="text-stone-600 max-w-4xl mx-auto">This is where the magic happens. Agentic AI doesn't just display data; it proactively analyzes it to find problems and opportunities. The simulation below demonstrates how the AI would detect, diagnose, and suggest a solution for a sudden performance issue, all without human intervention.</p>
                </div>
                 <div class="bg-white p-6 rounded-xl shadow-md border border-stone-200">
                    <h3 class="text-lg font-bold text-stone-700 mb-4">Anomaly Detection Simulation</h3>
                    <div class="text-center mb-6">
                        <button id="simulate-anomaly-btn" class="bg-amber-500 hover:bg-amber-600 text-white font-bold py-2 px-6 rounded-full shadow-lg transition-transform transform hover:scale-105">
                            ‚ö° Simulate Performance Anomaly
                        </button>
                    </div>
                    <div id="simulation-output" class="p-6 bg-stone-50 rounded-lg border border-stone-200 min-h-[200px] transition-all">
                        <p class="text-stone-500 italic text-center">Click the button to simulate an unexpected event and see how the AI agent responds.</p>
                    </div>
                </div>
            </section>
            
            <!-- Impact Summary Section -->
            <section id="impact" class="page-section">
                <div class="text-center mb-8 p-6 bg-white/60 rounded-xl shadow-inner-lg border border-stone-200">
                    <h2 class="text-2xl font-bold text-teal-700 mb-2">Impact Summary & ROI</h2>
                    <p class="text-stone-600 max-w-4xl mx-auto">The ultimate measure of any technology is its impact on the bottom line. This section quantifies the value of implementing agentic AI by comparing key metrics before and after its adoption. The results demonstrate significant improvements in efficiency, customer experience, and overall revenue.</p>
                </div>
                <div class="grid grid-cols-1 lg:grid-cols-2 gap-8">
                    <div class="bg-white p-6 rounded-xl shadow-md border border-stone-200">
                        <h3 class="text-lg font-bold text-stone-700 mb-4">Performance Uplift: Before vs. After AI</h3>
                        <div class="chart-container h-[400px] max-h-[60vh]">
                            <canvas id="impactChart"></canvas>
                        </div>
                    </div>
                    <div class="bg-white p-6 rounded-xl shadow-md border border-stone-200 space-y-6">
                        <h3 class="text-lg font-bold text-stone-700">Return on Investment (ROI)</h3>
                         <div>
                            <p class="text-sm font-semibold text-stone-500">Revenue Growth</p>
                            <p class="text-3xl font-bold text-green-600 mt-1">+18%</p>
                            <p class="text-sm text-stone-600">Additional $225,869 in revenue attributed to AI-driven optimizations over 6 months.</p>
                        </div>
                         <div>
                            <p class="text-sm font-semibold text-stone-500">Efficiency Gains</p>
                            <p class="text-3xl font-bold text-green-600 mt-1">+45%</p>
                            <p class="text-sm text-stone-600">Reduced time spent on manual data analysis by an average of 20 hours per week.</p>
                        </div>
                        <div>
                            <p class="text-sm font-semibold text-stone-500">Cart Abandonment Reduction</p>
                            <p class="text-3xl font-bold text-green-600 mt-1">-22%</p>
                            <p class="text-sm text-stone-600">AI-powered exit-intent popups and abandoned cart email flows recovered thousands in potential lost sales.</p>
                        </div>
                    </div>
                </div>
            </section>
        </main>
    </div>

<script>
document.addEventListener('DOMContentLoaded', () => {
    const charts = {};

    const navContainer = document.getElementById('nav-container');
    const contentContainer = document.getElementById('content-container');
    const navButtons = navContainer.querySelectorAll('.nav-btn');
    const pageSections = contentContainer.querySelectorAll('.page-section');

    const productFilter = document.getElementById('product-filter');
    const revenueFilter = document.getElementById('revenue-filter');
    const simulateAnomalyBtn = document.getElementById('simulate-anomaly-btn');
    const simulationOutput = document.getElementById('simulation-output');

    const appData = {
        productSales: {
            'All': {
                labels: ['Smartwatch X', 'Wireless Earbuds', 'Yoga Mat Pro', 'Classic White Tee', 'Smart Coffee Mug', 'Denim Jacket', 'LED Desk Lamp'],
                data: [180000, 155000, 120000, 95000, 88000, 76000, 65000]
            },
            'Electronics': {
                labels: ['Smartwatch X', 'Wireless Earbuds', 'Smart Coffee Mug', 'LED Desk Lamp'],
                data: [180000, 155000, 88000, 65000]
            },
            'Apparel': {
                labels: ['Classic White Tee', 'Denim Jacket'],
                data: [95000, 76000]
            },
            'Home Goods': {
                labels: ['Yoga Mat Pro', 'LED Desk Lamp'],
                data: [120000, 65000]
            }
        },
        revenue: {
            '7': {
                labels: ['Day -6', 'Day -5', 'Day -4', 'Day -3', 'Day -2', 'Yesterday', 'Today'],
                data: [12000, 13500, 11500, 14000, 15500, 14800, 16200]
            },
            '30': {
                labels: ['Week 4', 'Week 3', 'Week 2', 'Week 1'],
                data: [110000, 95000, 125000, 140000]
            },
            '90': {
                labels: ['Month 3', 'Month 2', 'Month 1'],
                data: [380000, 410000, 464830]
            }
        }
    };

    const setupNavigation = () => {
        navContainer.addEventListener('click', (e) => {
            if (e.target.matches('.nav-btn')) {
                const targetId = e.target.dataset.target;

                navButtons.forEach(btn => btn.classList.remove('active'));
                e.target.classList.add('active');
                
                pageSections.forEach(section => {
                    section.classList.remove('active');
                    if (section.id === targetId) {
                        section.classList.add('active');
                    }
                });
            }
        });
    };
    
    const createRevenueChart = (days = '30') => {
        const ctx = document.getElementById('revenueChart')?.getContext('2d');
        if (!ctx) return;

        const chartData = appData.revenue[days];
        
        if (charts.revenue) charts.revenue.destroy();
        charts.revenue = new Chart(ctx, {
            type: 'line',
            data: {
                labels: chartData.labels,
                datasets: [{
                    label: 'Revenue',
                    data: chartData.data,
                    borderColor: '#0F766E',
                    backgroundColor: 'rgba(15, 118, 110, 0.1)',
                    fill: true,
                    tension: 0.4
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                scales: {
                    y: {
                        beginAtZero: true,
                        ticks: {
                            callback: function(value) {
                                return '$' + (value / 1000) + 'k';
                            }
                        }
                    }
                },
                plugins: {
                    legend: {
                        display: false
                    }
                }
            }
        });
    };

    const createTrafficSourceChart = () => {
        const ctx = document.getElementById('trafficSourceChart')?.getContext('2d');
        if (!ctx) return;
        if (charts.traffic) charts.traffic.destroy();
        charts.traffic = new Chart(ctx, {
            type: 'doughnut',
            data: {
                labels: ['Organic Search', 'Direct', 'Paid Social', 'Referral', 'Email'],
                datasets: [{
                    label: 'Traffic Source',
                    data: [45, 25, 15, 10, 5],
                    backgroundColor: ['#0D9488', '#0EA5E9', '#F97316', '#8B5CF6', '#F59E0B'],
                    borderWidth: 0
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                plugins: {
                    legend: {
                        position: 'bottom',
                    }
                }
            }
        });
    };

    const createProductSalesChart = (category = 'All') => {
        const ctx = document.getElementById('productSalesChart')?.getContext('2d');
        if (!ctx) return;
        
        const chartData = appData.productSales[category];
        if (charts.products) charts.products.destroy();
        charts.products = new Chart(ctx, {
            type: 'bar',
            data: {
                labels: chartData.labels,
                datasets: [{
                    label: 'Revenue',
                    data: chartData.data,
                    backgroundColor: ['#14B8A6', '#38BDF8', '#FBBF24', '#A78BFA', '#2DD4BF', '#60A5FA', '#FACC15'],
                    borderRadius: 4,
                }]
            },
            options: {
                indexAxis: 'y',
                responsive: true,
                maintainAspectRatio: false,
                scales: {
                    x: {
                        ticks: {
                            callback: function(value) {
                                return '$' + (value / 1000) + 'k';
                            }
                        }
                    }
                },
                plugins: {
                    legend: {
                        display: false
                    }
                }
            }
        });
    };

    const createImpactChart = () => {
        const ctx = document.getElementById('impactChart')?.getContext('2d');
        if (!ctx) return;
        if (charts.impact) charts.impact.destroy();
        charts.impact = new Chart(ctx, {
            type: 'bar',
            data: {
                labels: ['Conversion Rate', 'Avg. Order Value', 'Customer Lifetime Value'],
                datasets: [{
                    label: 'Before AI',
                    data: [2.15, 126.50, 280],
                    backgroundColor: '#A8A29E',
                    borderRadius: 4,
                }, {
                    label: 'After AI',
                    data: [2.87, 124.50, 350],
                    backgroundColor: '#14B8A6',
                    borderRadius: 4,
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                 scales: {
                    y: {
                        beginAtZero: true
                    }
                },
                plugins: {
                    legend: {
                        position: 'top',
                    }
                }
            }
        });
    };

    const setupInteractions = () => {
        productFilter.addEventListener('click', (e) => {
            if (e.target.tagName === 'BUTTON') {
                const category = e.target.dataset.category;
                createProductSalesChart(category);
                productFilter.querySelectorAll('button').forEach(btn => {
                    btn.classList.remove('bg-teal-600', 'text-white');
                    btn.classList.add('bg-stone-200');
                });
                e.target.classList.add('bg-teal-600', 'text-white');
                e.target.classList.remove('bg-stone-200');
            }
        });

        revenueFilter.addEventListener('click', (e) => {
            if (e.target.tagName === 'BUTTON') {
                const days = e.target.dataset.days;
                createRevenueChart(days);
                revenueFilter.querySelectorAll('button').forEach(btn => {
                    btn.classList.remove('bg-teal-600', 'text-white');
                    btn.classList.add('bg-stone-200');
                });
                e.target.classList.add('bg-teal-600', 'text-white');
                e.target.classList.remove('bg-stone-200');
            }
        });

        simulateAnomalyBtn.addEventListener('click', () => {
            simulationOutput.innerHTML = `<p class="text-stone-500 italic text-center">Analyzing data streams...</p>`;
            setTimeout(() => {
                simulationOutput.innerHTML = `
                <div class="space-y-4">
                    <div>
                        <span class="inline-flex items-center rounded-md bg-red-50 px-2 py-1 text-xs font-medium text-red-700 ring-1 ring-inset ring-red-600/10">1. ALERT DETECTED</span>
                        <p class="mt-1 text-stone-700">Abnormal <strong>60% increase in cart abandonment</strong> detected at 2:15 PM.</p>
                    </div>
                    <div>
                        <span class="inline-flex items-center rounded-md bg-yellow-50 px-2 py-1 text-xs font-medium text-yellow-800 ring-1 ring-inset ring-yellow-600/20">2. ROOT CAUSE ANALYSIS</span>
                        <p class="mt-1 text-stone-700">Correlating data... Anomaly coincides with deployment of new shipping cost calculator. High error rate (85%) detected in calculator API for users in international regions.</p>
                    </div>
                    <div>
                        <span class="inline-flex items-center rounded-md bg-blue-50 px-2 py-1 text-xs font-medium text-blue-700 ring-1 ring-inset ring-blue-700/10">3. ACTION RECOMMENDED</span>
                        <p class="mt-1 text-stone-700">Immediate action: <strong>Roll back the shipping calculator deployment</strong> to restore checkout functionality. Secondary: File a high-priority bug report for the development team with diagnostic data attached.</p>
                    </div>
                </div>
                `;
            }, 1500);
        });
    };

    const init = () => {
        setupNavigation();
        createRevenueChart();
        createTrafficSourceChart();
        createProductSalesChart();
        createImpactChart();
        setupInteractions();
    };

    init();
});
</script>
</body>
</html>
