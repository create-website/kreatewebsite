<!DOCTYPE html>
<html lang="en" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>The Quant's Gauntlet: A Visual Guide to Backtesting</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet">
    <!-- Chosen Palette: Energetic & Playful -->
    <!-- Application Structure Plan: The infographic follows a problem-to-solution narrative. It begins by illustrating "The Seven Deadly Sins" (the problems) to establish why rigor is necessary. It then progresses to the "Validation Gauntlet" (the solution for overfitting), followed by the "Bet Sizing Crucible" (the solution for risk management), and culminates in "The Quant's Process" (a summary of the entire robust workflow). This structure breaks down the complex report into a logical, step-by-step visual story, making the sophisticated concepts of backtesting accessible and memorable. -->
    <!-- Visualization & Content Choices: 
        1.  Seven Deadly Sins: Report Info: Core backtesting biases. -> Goal: Inform. -> Viz/Method: Styled HTML/CSS cards with Unicode icons. -> Justification: Presents the primary pitfalls of backtesting in a visually distinct and easily scannable format, setting the stage for the rest of the infographic. Method: HTML/CSS with Tailwind.
        2.  Validation Method Comparison: Report Info: Flaws of standard CV vs. robustness of Walk-Forward Analysis. -> Goal: Compare. -> Viz/Method: Chart.js Line Chart. -> Justification: A line chart provides the clearest possible visual demonstration of a dangerously optimistic (and flawed) backtest versus a realistic one, which is a core concept from the source material. Library: Chart.js/Canvas.
        3.  Bet Sizing Impact: Report Info: Comparing Fixed-Fractional vs. Kelly Criterion. -> Goal: Compare/Change. -> Viz/Method: Chart.js Line Chart. -> Justification: Visually demonstrates the critical trade-off between growth and volatility inherent in different risk management strategies, making the abstract concept of bet sizing tangible. Library: Chart.js/Canvas.
        4.  Performance Metrics: Report Info: Sharpe Ratio, MDD, etc. -> Goal: Inform. -> Viz/Method: Large, bold text in styled HTML cards. -> Justification: Presents key performance indicators as "big number" callouts, making them stand out as the final evaluation criteria of a backtest. Method: HTML/CSS.
        5.  The Quant's Process: Report Info: The systematic process of rigorous backtesting. -> Goal: Organize. -> Viz/Method: HTML/CSS Flowchart. -> Justification: A vertical flowchart using styled divs and borders is the most effective non-SVG way to illustrate a multi-step process, providing a clear, summarizing takeaway for the user. Method: HTML/CSS.
        -->
    <!-- CONFIRMATION: NO SVG graphics used. NO Mermaid JS used. -->
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #F0F0F0; /* Light Gray Background from palette */
        }
        .chart-container {
            position: relative;
            width: 100%;
            max-width: 800px;
            margin-left: auto;
            margin-right: auto;
            height: 350px;
            max-height: 450px;
        }
        @media (min-width: 768px) {
            .chart-container {
                height: 400px;
            }
        }
        .flowchart-step {
            position: relative;
            padding-left: 3.5rem;
            padding-bottom: 2rem;
        }
        .flowchart-step:not(:last-child)::before {
            content: '';
            position: absolute;
            left: 1.25rem;
            top: 2.75rem;
            bottom: -0.5rem;
            width: 2px;
            background-color: #45B7D1; /* Teal line */
            opacity: 0.5;
        }
        .flowchart-step::after {
            content: attr(data-step);
            position: absolute;
            left: 0;
            top: 0.25rem;
            width: 2.75rem;
            height: 2.75rem;
            border-radius: 9999px;
            background-color: #45B7D1; /* Teal Accent */
            color: white;
            font-weight: 700;
            display: flex;
            align-items: center;
            justify-content: center;
            border: 4px solid #F0F0F0;
        }
    </style>
</head>
<body class="text-gray-800">

    <main class="container mx-auto max-w-5xl p-4 md:p-8">

        <header class="text-center my-12">
            <h1 class="text-4xl md:text-5xl font-extrabold text-[#1A1A1A] tracking-tight">The Quant's Gauntlet</h1>
            <p class="mt-4 text-lg md:text-xl max-w-3xl mx-auto text-gray-600">Why most trading strategies fail, and how to build one that works. A visual guide to rigorous backtesting.</p>
        </header>

        <section id="sins" class="mb-20">
            <h2 class="text-3xl font-bold text-center text-[#1A1A1A] mb-4">The 7 Deadly Sins of Backtesting</h2>
            <p class="text-center max-w-3xl mx-auto mb-10 text-gray-600">A flawed backtest is a factory for false hope. These common biases create the illusion of profitability where none exists. Avoiding them is the first and most critical step.</p>
            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 text-center">
                <div class="bg-white rounded-2xl shadow-lg p-6 transform hover:-translate-y-2 transition-transform duration-300">
                    <div class="text-5xl mb-3">ðŸ˜ˆ</div>
                    <h3 class="text-xl font-bold text-[#FF6B6B]">Overfitting</h3>
                    <p class="mt-2 text-sm text-gray-600">Mistaking historical noise for a real signal. The strategy perfectly "memorizes" the past but fails in the future.</p>
                </div>
                <div class="bg-white rounded-2xl shadow-lg p-6 transform hover:-translate-y-2 transition-transform duration-300">
                    <div class="text-5xl mb-3">ðŸ”®</div>
                    <h3 class="text-xl font-bold text-[#FF6B6B]">Look-Ahead Bias</h3>
                    <p class="mt-2 text-sm text-gray-600">Using information in the simulation that would not have been available at the time of the trade decision.</p>
                </div>
                <div class="bg-white rounded-2xl shadow-lg p-6 transform hover:-translate-y-2 transition-transform duration-300">
                    <div class="text-5xl mb-3">ðŸ‘»</div>
                    <h3 class="text-xl font-bold text-[#FF6B6B]">Survivorship Bias</h3>
                    <p class="mt-2 text-sm text-gray-600">Testing only on stocks that "survived," ignoring the bankrupt companies where the strategy would have failed.</p>
                </div>
                 <div class="bg-white rounded-2xl shadow-lg p-6 transform hover:-translate-y-2 transition-transform duration-300">
                    <div class="text-5xl mb-3">ðŸ’¸</div>
                    <h3 class="text-xl font-bold text-[#FF6B6B]">Ignoring Costs</h3>
                    <p class="mt-2 text-sm text-gray-600">Forgetting that commissions and slippage can turn a "profitable" high-frequency strategy into a losing one.</p>
                </div>
            </div>
        </section>
        
        <section id="validation" class="mb-20">
            <h2 class="text-3xl font-bold text-center text-[#1A1A1A] mb-4">The Validation Gauntlet</h2>
            <p class="text-center max-w-3xl mx-auto mb-10 text-gray-600">Financial data is not random. Standard validation methods create "data leakage," leading to unrealistically smooth equity curves. A Walk-Forward Analysis (WFA) respects the timeline, revealing a more honest, and often harsher, reality.</p>
            <div class="bg-white rounded-2xl shadow-lg p-6 md:p-8">
                <div class="chart-container">
                    <canvas id="validationChart"></canvas>
                </div>
                <p class="text-xs text-center mt-4 text-gray-500">Illustrative equity curves. The flawed backtest shows dangerously optimistic results due to data leakage.</p>
            </div>
        </section>

        <section id="betsizing" class="mb-20">
            <h2 class="text-3xl font-bold text-center text-[#1A1A1A] mb-4">The Bet Sizing Crucible</h2>
            <p class="text-center max-w-3xl mx-auto mb-10 text-gray-600">A good signal is useless without smart risk management. Bet sizing determines how much capital to risk per trade. As the chart shows, this single choice has a profound impact on growth, volatility, and the risk of ruin.</p>
            <div class="bg-white rounded-2xl shadow-lg p-6 md:p-8">
                <div class="chart-container">
                    <canvas id="betSizingChart"></canvas>
                </div>
                <p class="text-xs text-center mt-4 text-gray-500">Illustrative curves. Full Kelly maximizes growth but with extreme volatility. Fixed Fractional is conservative. Half Kelly offers a balance.</p>
            </div>
        </section>
        
        <section id="metrics" class="mb-20">
            <h2 class="text-3xl font-bold text-center text-[#1A1A1A] mb-4">The Final Judgement: Performance Dashboard</h2>
            <p class="text-center max-w-3xl mx-auto mb-10 text-gray-600">Total return is a vanity metric. A robust strategy is judged by its risk-adjusted performance. These key metrics provide a holistic view of a strategy's true character.</p>
            <div class="grid grid-cols-2 md:grid-cols-4 gap-4 text-center">
                <div class="bg-white rounded-xl shadow-md p-6">
                    <p class="text-sm font-medium text-gray-500">Sharpe Ratio</p>
                    <p class="text-4xl font-extrabold text-[#4ECDC4]">1.25</p>
                    <p class="text-xs text-gray-400 mt-1">Return per unit of risk</p>
                </div>
                <div class="bg-white rounded-xl shadow-md p-6">
                    <p class="text-sm font-medium text-gray-500">Max Drawdown</p>
                    <p class="text-4xl font-extrabold text-[#FF6B6B]">-22%</p>
                     <p class="text-xs text-gray-400 mt-1">Worst peak-to-trough loss</p>
                </div>
                <div class="bg-white rounded-xl shadow-md p-6">
                    <p class="text-sm font-medium text-gray-500">Calmar Ratio</p>
                    <p class="text-4xl font-extrabold text-[#4ECDC4]">0.95</p>
                     <p class="text-xs text-gray-400 mt-1">Return vs. drawdown</p>
                </div>
                <div class="bg-white rounded-xl shadow-md p-6">
                    <p class="text-sm font-medium text-gray-500">Profit Factor</p>
                    <p class="text-4xl font-extrabold text-[#4ECDC4]">1.80</p>
                     <p class="text-xs text-gray-400 mt-1">Gross wins / Gross losses</p>
                </div>
            </div>
        </section>
        
        <section id="process" class="mb-16">
             <h2 class="text-3xl font-bold text-center text-[#1A1A1A] mb-12">The Quant's Process: From Idea to Execution</h2>
             <div class="max-w-3xl mx-auto">
                <div class="flowchart-step" data-step="1">
                    <div class="bg-white rounded-xl shadow-md p-6">
                        <h3 class="text-xl font-bold text-[#1A1A1A]">Data Integrity</h3>
                        <p class="mt-1 text-gray-600">Source high-quality, point-in-time data that includes delisted assets to eliminate survivorship and look-ahead bias.</p>
                    </div>
                </div>
                <div class="flowchart-step" data-step="2">
                     <div class="bg-white rounded-xl shadow-md p-6">
                        <h3 class="text-xl font-bold text-[#1A1A1A]">Rigorous Validation</h3>
                        <p class="mt-1 text-gray-600">Use Walk-Forward Analysis or Purged CV. Never use standard K-Fold CV on time-series data. This is the primary defense against overfitting.</p>
                    </div>
                </div>
                <div class="flowchart-step" data-step="3">
                     <div class="bg-white rounded-xl shadow-md p-6">
                        <h3 class="text-xl font-bold text-[#1A1A1A]">Smart Bet Sizing</h3>
                        <p class="mt-1 text-gray-600">Implement a formal risk management model like Fixed Fractional or Fractional Kelly. A signal is not a strategy without bet sizing.</p>
                    </div>
                </div>
                 <div class="flowchart-step" data-step="4">
                     <div class="bg-white rounded-xl shadow-md p-6">
                        <h3 class="text-xl font-bold text-[#1A1A1A]">Execution Simulation</h3>
                        <p class="mt-1 text-gray-600">Model realistic transaction costs. A backtest that ignores commissions and slippage is a fantasy.</p>
                    </div>
                </div>
                 <div class="flowchart-step" data-step="5">
                     <div class="bg-white rounded-xl shadow-md p-6">
                        <h3 class="text-xl font-bold text-[#1A1A1A]">Holistic Evaluation</h3>
                        <p class="mt-1 text-gray-600">Analyze a full suite of performance metrics. Look beyond total return to understand the true risk-adjusted character of the strategy.</p>
                    </div>
                </div>
             </div>
        </section>

    </main>
    
<!--
    <footer class="text-center py-8">
        <p class="text-sm text-gray-400">Content synthesized from "Rigorous Backtesting of Machine Learning Strategies in Finance." For educational purposes only.</p>
    </footer>
-->

    <script>
    document.addEventListener('DOMContentLoaded', () => {

        const chartTooltipPlugin = {
            plugins: {
                tooltip: {
                    callbacks: {
                        title: function(tooltipItems) {
                            const item = tooltipItems[0];
                            let label = item.chart.data.labels[item.dataIndex];
                            if (Array.isArray(label)) { return label.join(' '); }
                            return label;
                        }
                    }
                }
            }
        };
        
        const validationCtx = document.getElementById('validationChart').getContext('2d');
        new Chart(validationCtx, {
            type: 'line',
            data: {
                labels: Array.from({ length: 12 }, (_, i) => `Month ${i + 1}`),
                datasets: [{
                    label: 'Flawed Backtest (K-Fold CV)',
                    data: [100, 110, 121, 133, 146, 161, 177, 195, 214, 235, 259, 285],
                    borderColor: '#FF6B6B',
                    backgroundColor: 'rgba(255, 107, 107, 0.1)',
                    fill: true,
                    tension: 0.4,
                    pointRadius: 0,
                }, {
                    label: 'Robust Backtest (WFA)',
                    data: [100, 105, 98, 108, 115, 110, 120, 128, 122, 130, 138, 135],
                    borderColor: '#4ECDC4',
                    backgroundColor: 'rgba(78, 205, 196, 0.2)',
                    fill: true,
                    tension: 0.4,
                    pointRadius: 0,
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                scales: {
                    y: { beginAtZero: false, ticks: { callback: (value) => `$${value}k` } }
                },
                ...chartTooltipPlugin
            }
        });
        
        const betSizingCtx = document.getElementById('betSizingChart').getContext('2d');
        new Chart(betSizingCtx, {
            type: 'line',
            data: {
                labels: Array.from({ length: 12 }, (_, i) => `Month ${i + 1}`),
                datasets: [{
                    label: 'Full Kelly',
                    data: [100, 120, 90, 140, 160, 110, 180, 220, 150, 250, 300, 200],
                    borderColor: '#FF6B6B',
                    borderDash: [5, 5],
                    fill: false,
                    tension: 0.4
                }, {
                    label: 'Half Kelly',
                    data: [100, 110, 102, 115, 125, 118, 130, 142, 135, 148, 160, 155],
                    borderColor: '#4ECDC4',
                    fill: true,
                    backgroundColor: 'rgba(78, 205, 196, 0.2)',
                    tension: 0.4
                }, {
                    label: 'Fixed Fractional (2%)',
                    data: [100, 102, 101, 104, 106, 105, 108, 111, 110, 113, 116, 115],
                    borderColor: '#45B7D1',
                    fill: false,
                    tension: 0.4
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                scales: {
                    y: { beginAtZero: false, ticks: { callback: (value) => `$${value}k` } }
                },
                 ...chartTooltipPlugin
            }
        });
    });
    </script>
</body>
</html>
